<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta charset="utf-8">
	
	<title>openssl @abaqueiro notes</title>
<style>
* {
	box-sizing: border-box;
}
html {
	/*
	background-color: rgb(39,40,34);
	color: white;
	*/
}
body {
	font-family: sans-serif;
	/*font-weight: 300;*/
}
h1 {
	color: purple;
	/*
	color: rgb(162,129,255);
	color: rgb(100,100,98);
	*/
}

#brand {
	border-top: 1px solid black;
	border-bottom: 1px solid black;
}
#brand .author {
	font-weight: bold;
	display: inline-block;
}
#brand .pub_date {
	margin: auto;
	right: 10px;
	display: inline-block;
	position: absolute;
}
#brand a
,#brand a:visited
{
	text-decoration: none;
	color: black;
}
#brand a:hover {
	color: blue;
}

h2 {
	color: darkred;
	/*
	color: rgb(249,38,144);
	color: rgb(131,38,65);
	*/
}
dt {
	color: blue;
	font-weight: 400;
	/*
	color: rgb(249,38,144);
	color: rgb(162,129,255);
	*/
}
dd {
	margin-bottom: 20px;
}
u {
	color: blue;
}
img {
	width: 100%;
}
/*
a {
	color: yellow;
}
*/
a:visited {
	color:blue;
}
b {
	color: darkred;
	/*
	color: rgb(249,38,144);
	*/
}
pre {
	display: inline-block;
	border-radius: 8px;
	padding: 4px 1em;
	background-color: black;
	color: lightgray;
	height: 20em;
	overflow: auto;
}
tgreen {
	color: #0f0;
}
</style>
</head>
<body>
<div id="brand">
	<div class="author"><a href="../index.html">Alfonso Baqueiro Bernal</a></div>
	<div class="pub_date">Saturday Jul 9, 2022</div>
</div>

<h1>openssl</h1>

<dt>retrieve certificates presented by server</dt>
<dd><pre><tgreen>openssl s_client -showcerts -connect</tgreen> mcr.microsoft.com:443 <tgreen>&lt;/dev/null</tgreen>
CONNECTED(00000004)
depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root G2
verify return:1
depth=1 C = US, O = Microsoft Corporation, CN = Microsoft Azure TLS Issuing CA 06
verify return:1
depth=0 C = US, ST = WA, L = Redmond, O = Microsoft Corporation, CN = mcr.microsoft.com
verify return:1
---
Certificate chain
 0 s:C = US, ST = WA, L = Redmond, O = Microsoft Corporation, CN = mcr.microsoft.com
   i:C = US, O = Microsoft Corporation, CN = Microsoft Azure TLS Issuing CA 06
-----BEGIN CERTIFICATE-----
MIIIVzCCBj+gAwIBAgITMwBDzWCu+yD7JOpb4wAAAEPNYDANBgkqhkiG9w0BAQwF
ADBZMQswCQYDVQQGEwJVUzEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
MSowKAYDVQQDEyFNaWNyb3NvZnQgQXp1cmUgVExTIElzc3VpbmcgQ0EgMDYwHhcN
MjIwNzA1MDIyMDIxWhcNMjMwNjMwMDIyMDIxWjBoMQswCQYDVQQGEwJVUzELMAkG
A1UECBMCV0ExEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBD
b3Jwb3JhdGlvbjEaMBgGA1UEAxMRbWNyLm1pY3Jvc29mdC5jb20wggEiMA0GCSqG
SIb3DQEBAQUAA4IBDwAwggEKAoIBAQC8GKuJ3sNTvWuhAbODeTq+lBarnKEFFydu
il6qxnskJqQE8U+Vv3XHvWHI9tbBpfWfja7kgPOw8wrE2hzEfJiW3vttxlVCOLmM
LvAUaMuQodLfuVTr4cTQ5OOTOi7cWQQU11/kPwJG9W1KO1NxtPNCdRr3K5FqD7XW
tn3KgTCs/PG5WqbDRVLtjRh8Jp0aVLcOwStLSB5iqO4cqf2kUk8cGeUYS4AnZHYk
PTlKqx5N5+3NIeXC5wKht4ZL4utSHvMz9hrD83u6RBokC0aBPIaWLkiU7PQQoDjl
YbzvhKoV17LHC9OUw7vyiD3phewAcLNcUcm48zzMy3U+WYFLiqlpAgMBAAGjggQH
MIIEAzCCAX4GCisGAQQB1nkCBAIEggFuBIIBagFoAHYA6D7Q2j71BjUy51covIlr
yQPTy9ERa+zraeF3fW0GvW4AAAGBzDHDIgAABAMARzBFAiEAi6qaGzw24t9OCDQ+
+Y2BEGKaJpzJ2Kveto31C1TTCe8CIHwqzezz5GX0va7y+NPs5LhJtx0FpuLwK2Wy
2guN5lvVAHYAs3N3B+GEUPhjhtYFqdwRCUp5LbFnDAuH3PADDnk2pZoAAAGBzDHD
YQAABAMARzBFAiEAodkrq1Igdl0RF/08uAm2tciwDYVN9QpAi9ZC+PuCoM0CICuP
pyv1nlGwuY6X4oVG+3YBQSB3dY1sq3AuEnJjoUW4AHYArfe++nz/EMiLnT2cHj4Y
arRnKV3PsQwkyoWGNOvcgooAAAGBzDHC8AAABAMARzBFAiEA5foMVrpDEn1smz4E
Cxss9Uk5MFmjMHiV0IdhNaKaes8CIDxcYSPMGv3y/NhfVmpz1mPEkwK9OqAWW8+8
djYrZn1bMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwIwCgYIKwYBBQUHAwEw
PAYJKwYBBAGCNxUHBC8wLQYlKwYBBAGCNxUIh73XG4Hn60aCgZ0ujtAMh/DaHV2C
hOVpgvOnPgIBZAIBJTCBrgYIKwYBBQUHAQEEgaEwgZ4wbQYIKwYBBQUHMAKGYWh0
dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvY2VydHMvTWljcm9zb2Z0JTIw
QXp1cmUlMjBUTFMlMjBJc3N1aW5nJTIwQ0ElMjAwNiUyMC0lMjB4c2lnbi5jcnQw
LQYIKwYBBQUHMAGGIWh0dHA6Ly9vbmVvY3NwLm1pY3Jvc29mdC5jb20vb2NzcDAd
BgNVHQ4EFgQUC1cZ3hMK1M2mx6ryqjtBWhPSw7wwDgYDVR0PAQH/BAQDAgSwMBwG
A1UdEQQVMBOCEW1jci5taWNyb3NvZnQuY29tMAwGA1UdEwEB/wQCMAAwZAYDVR0f
BF0wWzBZoFegVYZTaHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3BraW9wcy9jcmwv
TWljcm9zb2Z0JTIwQXp1cmUlMjBUTFMlMjBJc3N1aW5nJTIwQ0ElMjAwNi5jcmww
ZgYDVR0gBF8wXTBRBgwrBgEEAYI3TIN9AQEwQTA/BggrBgEFBQcCARYzaHR0cDov
L3d3dy5taWNyb3NvZnQuY29tL3BraW9wcy9Eb2NzL1JlcG9zaXRvcnkuaHRtMAgG
BmeBDAECAjAfBgNVHSMEGDAWgBTVwWc6wqOd9HdSW1kSOCnmVWi7pTAdBgNVHSUE
FjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwDQYJKoZIhvcNAQEMBQADggIBAG6UE/YD
Ffi6lMo3/FJwn6CMsx0+CxKEAY8q58nAwVL2oI3B2r0XI7OsLU/HvliVGCthF3qt
lwxLdpcRNedtH6TDwGjD3vfRLZct2yQKbXec4/uW8F4dk8eHanFzpmICZqnxIb/o
LgmT1rxOwlYuXeUXgDRATSm3S6mn4ToGssUyjCEOAp0eWcmR6GStgFmn1fVONMee
gCbYFLjcI0+n20WpswOSrqZF6IfHEl8pukGXu+RGIWEbhX3S/zDpjE6eRRUtL7ih
zvhFZRFK1by23OEwg+9tncSonhutCdAmvoK0+zmC+BWPAqApq8pWIW8ZCvw7sFh/
c8SPdTpoP4/vmiBSDag8iyOZSMY4Z6EkRHx943VAVFTuMe9E7RCK9Kam1FCvNK8T
Ys6hspNAtYv94soiZIeop7fQRa6n11470LQVudGgs1lMH71lP0unet58emMpvv1o
Fm7wm1dy4TGtcXJjhKa3qRTbarWtJxsnbw5zNl8nFGBIcbro1ligVODJOJhj0EXe
tcvDkzK5SMVdLIubOHmRMJ/Ti9lbaGws30wxDzYGBYVnDjAynjL8vbLf61sV2eOp
aRzQpkf4BLbX7IWRPEAKr8bOggzSRfykGSYem2xqIx/YBHFUtclQPqZVJyIwXFvD
sRExyiHplaJE8QtSkkmTHoNsma/KViq7k+jL
-----END CERTIFICATE-----
 1 s:C = US, O = Microsoft Corporation, CN = Microsoft Azure TLS Issuing CA 06
   i:C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root G2
-----BEGIN CERTIFICATE-----
MIIF8zCCBNugAwIBAgIQAueRcfuAIek/4tmDg0xQwDANBgkqhkiG9w0BAQwFADBh
MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBH
MjAeFw0yMDA3MjkxMjMwMDBaFw0yNDA2MjcyMzU5NTlaMFkxCzAJBgNVBAYTAlVT
MR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xKjAoBgNVBAMTIU1pY3Jv
c29mdCBBenVyZSBUTFMgSXNzdWluZyBDQSAwNjCCAiIwDQYJKoZIhvcNAQEBBQAD
ggIPADCCAgoCggIBALVGARl56bx3KBUSGuPc4H5uoNFkFH4e7pvTCxRi4j/+z+Xb
wjEz+5CipDOqjx9/jWjskL5dk7PaQkzItidsAAnDCW1leZBOIi68Lff1bjTeZgMY
iwdRd3Y39b/lcGpiuP2d23W95YHkMMT8IlWosYIX0f4kYb62rphyfnAjYb/4Od99
ThnhlAxGtfvSbXcBVIKCYfZgqRvV+5lReUnd1aNjRYVzPOoifgSx2fRyy1+pO1Uz
aMMNnIOE71bVYW0A1hr19w7kOb0KkJXoALTDDj1ukUEDqQuBfBxReL5mXiu1O7WG
0vltg0VZ/SZzctBsdBlx1BkmWYBW261KZgBivrql5ELTKKd8qgtHcLQA5fl6JB0Q
gs5XDaWehN86Gps5JW8ArjGtjcWAIP+X8CQaWfaCnuRm6Bk/03PQWhgdi84qwA0s
sRfFJwHUPTNSnE8EiGVk2frt0u8PG1pwSQsFuNJfcYIHEv1vOzP7uEOuDydsmCjh
lxuoK2n5/2aVR3BMTu+p4+gl8alXoBycyLmj3J/PUgqD8SL5fTCUegGsdia/Sa60
N2oV7vQ17wjMN+LXa2rjj/b4ZlZgXVojDmAjDwIRdDUujQu0RVsJqFLMzSIHpp2C
Zp7mIoLrySay2YYBu7SiNwL95X6He2kS8eefBBHjzwW/9FxGqry57i71c2cDAgMB
AAGjggGtMIIBqTAdBgNVHQ4EFgQU1cFnOsKjnfR3UltZEjgp5lVou6UwHwYDVR0j
BBgwFoAUTiJUIBiV5uNu5g/6+rkS7QYXjzkwDgYDVR0PAQH/BAQDAgGGMB0GA1Ud
JQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMHYG
CCsGAQUFBwEBBGowaDAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQu
Y29tMEAGCCsGAQUFBzAChjRodHRwOi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vRGln
aUNlcnRHbG9iYWxSb290RzIuY3J0MHsGA1UdHwR0MHIwN6A1oDOGMWh0dHA6Ly9j
cmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RHMi5jcmwwN6A1oDOG
MWh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RHMi5j
cmwwHQYDVR0gBBYwFDAIBgZngQwBAgEwCAYGZ4EMAQICMBAGCSsGAQQBgjcVAQQD
AgEAMA0GCSqGSIb3DQEBDAUAA4IBAQB2oWc93fB8esci/8esixj++N22meiGDjgF
+rA2LUK5IOQOgcUSTGKSqF9lYfAxPjrqPjDCUPHCURv+26ad5P/BYtXtbmtxJWu+
cS5BhMDPPeG3oPZwXRHBJFAkY4O4AF7RIAAUW6EzDflUoDHKv83zOiPfYGcpHc9s
kxAInCedk7QSgXvMARjjOqdakor21DTmNIUotxo8kHv5hwRlGhBJwps6fEVi1Bt0
trpM/3wYxlr473WSPUFZPgP1j519kLpWOJ8z09wxay+Br29irPcBYv0GMXlHqThy
8y4m/HyTQeI2IMvMrQnwqPpY+rLIXyviI2vLoI+4xKE4Rn38ZZ8m
-----END CERTIFICATE-----
---
Server certificate
subject=C = US, ST = WA, L = Redmond, O = Microsoft Corporation, CN = mcr.microsoft.com

issuer=C = US, O = Microsoft Corporation, CN = Microsoft Azure TLS Issuing CA 06

---
No client certificate CA names sent
Peer signing digest: SHA256
Peer signature type: RSA-PSS
Server Temp Key: ECDH, P-384, 384 bits
---
SSL handshake has read 4488 bytes and written 487 bytes
Verification: OK
...
</pre></dd>

<h2>References</h2>

<ul>
<li><a target="_blank" href="https://linux.die.net/man/1/openssl">openssl man page</a></li>
</ul>

</body>
</html>
